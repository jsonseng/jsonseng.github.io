<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="423px" preserveAspectRatio="none" style="width:422px;height:423px;" version="1.1" viewBox="0 0 422 423" width="422px" zoomAndPan="magnify"><defs><filter height="300%" id="flrpz97y52tfn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="210" cy="20" fill="#000000" filter="url(#flrpz97y52tfn)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#flrpz97y52tfn)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="152" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="162" y="71.6016">App开始进入前台</text><rect fill="#FEFECE" filter="url(#flrpz97y52tfn)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="140" y="104.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="150" y="125.7344">开始创建一份日志日志</text><rect fill="#FEFECE" filter="url(#flrpz97y52tfn)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="315" x="52.5" y="202.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="295" x="62.5" y="223.8672">记录当下时间点，并调用fflush将日志从缓存区刷入硬盘</text><polygon fill="#FEFECE" filter="url(#flrpz97y52tfn)" points="48,158.2656,372,158.2656,384,170.2656,372,182.2656,48,182.2656,36,170.2656,48,158.2656" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="48" y="174.4229">是否有要求写入新的日志，并且距离上次fflush时间是否满足5秒？</text><rect fill="#FEFECE" filter="url(#flrpz97y52tfn)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="176" y="278.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="186" y="300">退到后台</text><rect fill="#FEFECE" filter="url(#flrpz97y52tfn)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="118.5" y="332.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="163" x="128.5" y="354.1328">强制fflush缓存区的内容到硬盘</text><ellipse cx="210" cy="396.6641" fill="#FFFFFF" filter="url(#flrpz97y52tfn)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="203.8128" x2="216.1872" y1="390.4769" y2="402.8512"/><line style="stroke: #000000; stroke-width: 2.5;" x1="216.1872" x2="203.8128" y1="390.4769" y2="402.8512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="30" y2="50"/><polygon fill="#A80036" points="206,40,210,50,214,40,210,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="84.1328" y2="104.1328"/><polygon fill="#A80036" points="206,94.1328,210,104.1328,214,94.1328,210,98.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="182.2656" y2="202.2656"/><polygon fill="#A80036" points="206,192.2656,210,202.2656,214,192.2656,210,196.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="236.3984" y2="246.3984"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="396" y1="246.3984" y2="246.3984"/><polygon fill="#A80036" points="392,217.332,396,207.332,400,217.332,396,213.332" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="396" x2="396" y1="170.2656" y2="246.3984"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="396" x2="384" y1="170.2656" y2="170.2656"/><polygon fill="#A80036" points="394,166.2656,384,170.2656,394,174.2656,390,170.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="36" x2="24" y1="170.2656" y2="170.2656"/><polygon fill="#A80036" points="20,203.332,24,213.332,28,203.332,24,207.332" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="24" y1="170.2656" y2="258.3984"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="210" y1="258.3984" y2="258.3984"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="258.3984" y2="278.3984"/><polygon fill="#A80036" points="206,268.3984,210,278.3984,214,268.3984,210,272.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="138.2656" y2="158.2656"/><polygon fill="#A80036" points="206,148.2656,210,158.2656,214,148.2656,210,152.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="312.5313" y2="332.5313"/><polygon fill="#A80036" points="206,322.5313,210,332.5313,214,322.5313,210,326.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="210" y1="366.6641" y2="386.6641"/><polygon fill="#A80036" points="206,376.6641,210,386.6641,214,376.6641,210,380.6641" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0fb85cdbd0afcd50632f692cb956d4d6]
@startuml

start

:App开始进入前台;
:开始创建一份日志日志;

while (是否有要求写入新的日志，并且距离上次fflush时间是否满足5秒？)
    :记录当下时间点，并调用fflush将日志从缓存区刷入硬盘;
endwhile

:退到后台;
:强制fflush缓存区的内容到硬盘;

end

@enduml

PlantUML version 1.2020.19(Mon Oct 12 23:10:01 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>